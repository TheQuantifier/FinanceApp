============================================================
 FRONTEND API REFERENCE — FinanceApp
 All callable functions from web/scripts/api.js
============================================================

BASE URL (auto-switched):
  Production: https://financeapp-5u9g.onrender.com/api
  Local:      http://localhost:5000/api

All functions return Promises:
  const user = await api.auth.login(...)
  const list = await api.records.getAll()


============================================================
 1. AUTH MODULE
============================================================

------------------------------------------------------------
 auth.register(email, password, name)
------------------------------------------------------------
DESCRIPTION:
  Creates a new user account and logs them in automatically.

ARGUMENTS:
  email (string)
  password (string)
  name (string)

RETURNS:
  { user }

EXAMPLE:
  await api.auth.register("john@example.com", "mypassword", "John");


------------------------------------------------------------
 auth.login(identifier, password)
------------------------------------------------------------
DESCRIPTION:
  Logs in a user using email OR username.

ARGUMENTS:
  identifier (string)
  password   (string)

RETURNS:
  { user }

EXAMPLE:
  await api.auth.login("johnhand", "mypassword");


------------------------------------------------------------
 auth.logout()
------------------------------------------------------------
DESCRIPTION:
  Logs the user out by clearing their JWT cookie.

EXAMPLE:
  await api.auth.logout();


------------------------------------------------------------
 auth.me()
------------------------------------------------------------
DESCRIPTION:
  Retrieves the authenticated user.

EXAMPLE:
  const me = await api.auth.me();


------------------------------------------------------------
 auth.updateProfile(updates)
------------------------------------------------------------
DESCRIPTION:
  Updates any subset of user profile fields.

ARGUMENTS:
  updates (object)

RETURNS:
  { user }

EXAMPLE:
  await api.auth.updateProfile({ fullName: "John Hand" });


------------------------------------------------------------
 auth.changePassword(currentPassword, newPassword)
------------------------------------------------------------
DESCRIPTION:
  Change the authenticated user’s password.

EXAMPLE:
  await api.auth.changePassword("oldPass", "newPass");


------------------------------------------------------------
 auth.deleteAccount()
------------------------------------------------------------
DESCRIPTION:
  Permanently deletes:
    - user account
    - all records
    - all receipts
    - all GridFS files

EXAMPLE:
  await api.auth.deleteAccount();



============================================================
 2. RECORDS MODULE
============================================================

------------------------------------------------------------
 records.getAll()
------------------------------------------------------------
DESCRIPTION:
  Returns all financial records of the logged-in user.

EXAMPLE:
  const list = await api.records.getAll();


------------------------------------------------------------
 records.getOne(recordId)
------------------------------------------------------------
DESCRIPTION:
  Fetch a single record by ID.

ARGUMENTS:
  recordId (string)

EXAMPLE:
  const record = await api.records.getOne("675ab92f19c9fd7fd050cb92");


------------------------------------------------------------
 records.create({ type, amount, category, date, note })
------------------------------------------------------------
DESCRIPTION:
  Creates a new financial record.

ARGUMENTS:
  type      ("income" | "expense")
  amount    (number)
  category  (string)
  date      (string or ISO date)
  note      (string)

EXAMPLE:
  await api.records.create({
    type: "expense",
    amount: 25.50,
    category: "Food",
    date: "2025-01-28",
    note: "Lunch"
  });


------------------------------------------------------------
 records.update(recordId, updates)
------------------------------------------------------------
DESCRIPTION:
  Updates any subset of fields for an existing record.

ARGUMENTS:
  recordId (string)
  updates  (object)

RETURNS:
  { message, record }

EXAMPLE:
  await api.records.update("675ab92f19c9fd7fd050cb92", {
    amount: 40,
    category: "Dining",
    note: "Updated record"
  });


------------------------------------------------------------
 records.remove(recordId)
------------------------------------------------------------
DESCRIPTION:
  Deletes a financial record.

EXAMPLE:
  await api.records.remove("675ab92f19c9fd7fd050cb92");



============================================================
 3. RECEIPTS MODULE
============================================================

------------------------------------------------------------
 receipts.upload(file)
------------------------------------------------------------
DESCRIPTION:
  Uploads a file to GridFS + extracts OCR text.

ARGUMENTS:
  file (File)

EXAMPLE:
  const file = document.querySelector("#fileInput").files[0];
  const result = await api.receipts.upload(file);


------------------------------------------------------------
 receipts.getAll()
------------------------------------------------------------
DESCRIPTION:
  Retrieves all receipts for logged-in user.

EXAMPLE:
  const list = await api.receipts.getAll();


------------------------------------------------------------
 receipts.getOne(receiptId)
------------------------------------------------------------
DESCRIPTION:
  Returns metadata for one receipt.

EXAMPLE:
  const receipt = await api.receipts.getOne("677cb9123abc9123abc9123a");


------------------------------------------------------------
 receipts.download(receiptId)
------------------------------------------------------------
DESCRIPTION:
  Downloads the original file as a Blob.

EXAMPLE:
  const blob = await api.receipts.download("675ca881ab9c45f123abc911");


------------------------------------------------------------
 receipts.downloadToFile(receiptId, filename)
------------------------------------------------------------
DESCRIPTION:
  Downloads and auto-saves the file.

EXAMPLE:
  await api.receipts.downloadToFile("675ca881ab9c45f123abc911", "receipt.pdf");


------------------------------------------------------------
 receipts.remove(receiptId)
------------------------------------------------------------
DESCRIPTION:
  Deletes receipt metadata AND deletes file from GridFS.

EXAMPLE:
  await api.receipts.remove("675ca881ab9c45f123abc911");


============================================================
 END OF FILE
============================================================